{"id":"6a900ab9-5815-4181-8a8f-5bf00ad0af94","revision":0,"last_node_id":23,"last_link_id":33,"nodes":[{"id":9,"type":"VAEDecode","pos":[2898.9167046619195,444.765750883717],"size":[140,46],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":9},{"localized_name":"vae","name":"vae","type":"VAE","link":26}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[10]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":15,"type":"TextEncodeQwenImageEditPlus","pos":[1976.4439534657859,675.9166942582352],"size":[400,200],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":19},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":20},{"localized_name":"image1","name":"image1","shape":7,"type":"IMAGE","link":33},{"localized_name":"image2","name":"image2","shape":7,"type":"IMAGE","link":null},{"localized_name":"image3","name":"image3","shape":7,"type":"IMAGE","link":null},{"localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[24,25]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"TextEncodeQwenImageEditPlus"},"widgets_values":["night setting with more street lights"]},{"id":8,"type":"KSampler","pos":[2596.986673787777,102.82734301577699],"size":[270,262],"flags":{"collapsed":false},"order":12,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":4},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":24},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":25},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":27},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[9]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"KSampler"},"widgets_values":[11,"increment",3,1,"euler","simple",1]},{"id":12,"type":"SaveImage","pos":[3115.0976893825145,656.1526138005948],"size":[270,270],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":10},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.67"},"widgets_values":["ComfyUI"]},{"id":20,"type":"Label (rgthree)","pos":[1357.308396123205,-0.37228769870114853],"size":[318.4716796875,30],"flags":{"allow_interaction":true},"order":0,"mode":0,"inputs":[],"outputs":[],"title":"By Urban Geo Analytics","properties":{"fontSize":30,"fontFamily":"Arial","fontColor":"#8080FF","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#fff0","bgcolor":"#fff0","shape":1},{"id":21,"type":"Label (rgthree)","pos":[1352.6274890349716,-62.314228184360545],"size":[1079.66796875,56],"flags":{"allow_interaction":true},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"QWEN IMAGE EDIT FOR URBANISM v1.0","properties":{"fontSize":56,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#fff0","bgcolor":"#fff0","shape":1},{"id":4,"type":"LoadImage","pos":[1364.6457501640887,449.8754605298654],"size":[274.080078125,314.0000000000001],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[31]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"LoadImage"},"widgets_values":["pexels-taryn-elliott-4652004.jpg","image"]},{"id":3,"type":"VaeGGUF","pos":[1656.6971097444332,1007.6120473072834],"size":[270,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[20,26]}],"properties":{"cnr_id":"gguf","ver":"2.6.5","Node name for S&R":"VaeGGUF"},"widgets_values":["qwen_image_vae.safetensors"]},{"id":2,"type":"ClipLoaderGGUF","pos":[1367.9264633201014,835.4299747963034],"size":[270,106],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[19]}],"properties":{"cnr_id":"gguf","ver":"2.6.5","Node name for S&R":"ClipLoaderGGUF"},"widgets_values":["qwen\\qwen_2.5_vl_7b_fp8_scaled.safetensors","qwen_image","cpu"]},{"id":1,"type":"LoaderGGUF","pos":[2008.47748486213,103.88702766066147],"size":[270,58],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"gguf_name","name":"gguf_name","type":"COMBO","widget":{"name":"gguf_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[4]}],"properties":{"cnr_id":"gguf","ver":"2.6.5","Node name for S&R":"LoaderGGUF"},"widgets_values":["gguf\\Qwen-Image-Edit-2509-Q5_K_S.gguf"]},{"id":22,"type":"Label (rgthree)","pos":[1355.681205784311,39.23971914635234],"size":[548.583984375,15],"flags":{"allow_interaction":true},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"https://urbangeoanalytics.com/local-ai-image-editing-urbanism-comfyui-qwen-gguf/","properties":{"fontSize":15,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#fff0","bgcolor":"#fff0","shape":1},{"id":17,"type":"GetImageSize","pos":[1975.8221913952873,424.7559019234408],"size":[140,124.00000000000006],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":32}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[29]},{"localized_name":"height","name":"height","type":"INT","links":[30]},{"localized_name":"batch_size","name":"batch_size","type":"INT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"GetImageSize"},"widgets_values":[]},{"id":16,"type":"EmptySD3LatentImage","pos":[2186.5850600592594,255.4797342468314],"size":[270,106],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":29},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":30},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[27]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"EmptySD3LatentImage"},"widgets_values":[1024,1024,1]},{"id":23,"type":"MarkdownNote","pos":[1357.8517568104721,103.57202861566061],"size":[518.8544201592881,264.989782300718],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["## About This Workflow\nAll versions of **Qwen Image Edit for Urbanism** are designed as **fully local AI pipelines** â€” running offline, without APIs or cloud dependencies. While optimized for **urbanism and architectural visualization**, this workflow can be adapted to any image-editing or visual design context.  \n\n## About v1.0\nThis first version of Qwen Image Edit for Urbanism uses the base Qwen-Image-Edit-2509 model in GGUF format, designed for fully local and offline visual editing. It operates on a single input image, with output size automatically adapted to the original image ratio. The workflow is lightweight and stable, ideal for quick urban or architectural edits on mid-range GPUs.\n \n[v1.0 tutorial on Urban Geo Analytics](https://urbangeoanalytics.com/local-ai-image-editing-urbanism-comfyui-qwen-gguf/)\n\n"],"color":"#432","bgcolor":"#653"},{"id":18,"type":"ImageScaleToTotalPixels","pos":[1687.209167791502,578.2232650783141],"size":[270,82],"flags":{"collapsed":true},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":31},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"megapixels","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[32,33]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["nearest-exact",1]}],"links":[[4,1,0,8,0,"MODEL"],[9,8,0,9,0,"LATENT"],[10,9,0,12,0,"IMAGE"],[19,2,0,15,0,"CLIP"],[20,3,0,15,1,"VAE"],[24,15,0,8,1,"CONDITIONING"],[25,15,0,8,2,"CONDITIONING"],[26,3,0,9,1,"VAE"],[27,16,0,8,3,"LATENT"],[29,17,0,16,0,"INT"],[30,17,1,16,1,"INT"],[31,4,0,18,0,"IMAGE"],[32,18,0,17,0,"IMAGE"],[33,18,0,15,2,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7627768444385489,"offset":[-898.3887399705793,-73.35008834338477]}},"version":0.4}